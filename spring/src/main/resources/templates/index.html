<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <head th:replace="fragments/common :: head(title)" />
</head>
<body class="d-flex flex-column h-100">
    <nav th:replace="fragments/common :: menu(menu)" />
    <main sec:authorize="!isAuthenticated()" class="flex-shrink-0">
        <!-- Header-->
        <header class="bg-dark py-5">
            <div class="container px-5">
                <div class="row gx-5 align-items-center justify-content-center">
                    <div class="col-lg-8 col-xl-7 col-xxl-6">
                        <div class="my-5 text-center text-xl-start">
                            <h1 class="display-5 fw-bolder text-white mb-2">군생활, 허무하게 보내기엔 아까운 시간. </h1>
                            <p class="lead fw-normal text-white-50 mb-4">제공되는 다양한 정보로 손쉽게 플래너를 만들어보자!</p>
                            <div class="d-grid gap-3 d-sm-flex justify-content-sm-center justify-content-xl-start">
                                <a class="btn btn-primary btn-lg px-4 me-sm-3" th:href="@{/login}">시작하기</a>
                                <a class="btn btn-outline-light btn-lg px-4" href="#features">알아보기</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-5 col-xxl-6 d-none d-xl-block text-center"><img class="img-fluid rounded-3 my-5" src="https://dummyimage.com/600x400/343a40/6c757d" alt="..." /></div>
                </div>
            </div>
        </header>
        <!-- Features section-->
        <section class="py-5" id="features">
            <div class="container px-5 my-5">
                <div class="row gx-5">
                    <div class="col-lg-4 mb-5 mb-lg-0"><h2 class="fw-bolder mb-0">알찬 군생활 플랜을 위한 다양한 정보 제공</h2></div>
                    <div class="col-lg-8">
                        <div class="row gx-5 row-cols-1 row-cols-md-2">
                            <div class="col mb-5 h-100">
                                <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-clipboard-data"></i></div>
                                <h2 class="h5">[식단 정보]</h2>
                                <p class="mb-0">- 식품 영양성분 정보</p>
                            </div>
                            <div class="col mb-5 h-100">
                                <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-cart-plus"></i></div>
                                <h2 class="h5">[소비 정보]</h2>
                                <p class="mb-0">- PX 인기상품 정보</p>
                            </div>
                            <div class="col mb-5 mb-md-0 h-100">
                                <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-geo-alt"></i></div>
                                <h2 class="h5">[장소 정보]</h2>
                                <p class="mb-0">- 병사 할인 시설 정보</p>
                                <p class="mb-0">- 군 복지 휴양시설 정보</p>
                                <p class="mb-0">- 군병원 정보</p>
                                <p class="mb-0">- TMO 정보</p>
                                <p class="mb-0">- 군인 우대 업소 정보</p>
                                <p class="mb-0">- 국방부 MOU 할인 혜택 정보</p>
                            </div>
                            <div class="col h-100">
                                <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-cloud-sun"></i></div>
                                <h2 class="h5">[날씨 정보]</h2>
                                <p class="mb-0">- 기상청 중기전망예보</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Testimonial section-->
        <div class="py-5 bg-light">
            <div class="container px-5 my-5">
                <div class="row gx-5 justify-content-center">
                    <div class="col-lg-10 col-xl-7">
                        <div class="text-center">
                            <div class="fs-4 mb-4 fst-italic">"데이터를 제공해주는건 알겠는데...<br>플래너 만드는게 힘들잖아요..."</div>
                            <div class="d-flex align-items-center justify-content-center">
                                <div class="fw-bold">
                                    걱정마세요!
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Blog preview section-->
        <section class="py-5">
            <div class="container px-5 my-5">
                <div class="row gx-5 justify-content-center">
                    <div class="col-lg-8 col-xl-6">
                        <div class="text-center">
                            <h2 class="fw-bolder">손쉽게 플래너를 만들어보세요</h2>
                            <p class="lead fw-normal text-muted mb-5">보기쉬운 UI와 다양한 정보로 클릭 몇번이면 플래너가 뚝딱</p>
                        </div>
                    </div>
                </div>
                <div class="row gx-5">
                    <div class="col-lg-4 mb-5">
                        <div class="card h-100 shadow border-0">
                            <img class="card-img-top" src="https://dummyimage.com/600x350/ced4da/6c757d" alt="..." />
                            <div class="card-body p-4">
                                <div class="badge bg-primary bg-gradient rounded-pill mb-2">News</div>
                                <a class="text-decoration-none link-dark stretched-link" href="#!"><h5 class="card-title mb-3">Blog post title</h5></a>
                                <p class="card-text mb-0">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            </div>
                            <div class="card-footer p-4 pt-0 bg-transparent border-top-0">
                                <div class="d-flex align-items-end justify-content-between">
                                    <div class="d-flex align-items-center">
                                        <img class="rounded-circle me-3" src="https://dummyimage.com/40x40/ced4da/6c757d" alt="..." />
                                        <div class="small">
                                            <div class="fw-bold">Kelly Rowan</div>
                                            <div class="text-muted">March 12, 2023 &middot; 6 min read</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 mb-5">
                        <div class="card h-100 shadow border-0">
                            <img class="card-img-top" src="https://dummyimage.com/600x350/adb5bd/495057" alt="..." />
                            <div class="card-body p-4">
                                <div class="badge bg-primary bg-gradient rounded-pill mb-2">Media</div>
                                <a class="text-decoration-none link-dark stretched-link" href="#!"><h5 class="card-title mb-3">Another blog post title</h5></a>
                                <p class="card-text mb-0">This text is a bit longer to illustrate the adaptive height of each card. Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            </div>
                            <div class="card-footer p-4 pt-0 bg-transparent border-top-0">
                                <div class="d-flex align-items-end justify-content-between">
                                    <div class="d-flex align-items-center">
                                        <img class="rounded-circle me-3" src="https://dummyimage.com/40x40/ced4da/6c757d" alt="..." />
                                        <div class="small">
                                            <div class="fw-bold">Josiah Barclay</div>
                                            <div class="text-muted">March 23, 2023 &middot; 4 min read</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 mb-5">
                        <div class="card h-100 shadow border-0">
                            <img class="card-img-top" src="https://dummyimage.com/600x350/6c757d/343a40" alt="..." />
                            <div class="card-body p-4">
                                <div class="badge bg-primary bg-gradient rounded-pill mb-2">News</div>
                                <a class="text-decoration-none link-dark stretched-link" href="#!"><h5 class="card-title mb-3">The last blog post title is a little bit longer than the others</h5></a>
                                <p class="card-text mb-0">Some more quick example text to build on the card title and make up the bulk of the card's content.</p>
                            </div>
                            <div class="card-footer p-4 pt-0 bg-transparent border-top-0">
                                <div class="d-flex align-items-end justify-content-between">
                                    <div class="d-flex align-items-center">
                                        <img class="rounded-circle me-3" src="https://dummyimage.com/40x40/ced4da/6c757d" alt="..." />
                                        <div class="small">
                                            <div class="fw-bold">Evelyn Martinez</div>
                                            <div class="text-muted">April 2, 2023 &middot; 10 min read</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Pricing section-->
                <section class="bg-light py-5">
                    <div class="container px-5 my-5">
                        <div class="text-center mb-5">
                            <h1 class="fw-bolder">프리미엄 요금제를 이용할 수 있어요!</h1>
                            <p class="lead fw-normal text-muted mb-0">오직 프리미엄 요금제만을 위한 추가 기능</p>
                        </div>
                        <div class="row gx-5 justify-content-center">
                            <!-- Pricing card free-->
                            <div class="col-lg-6 col-xl-4">
                                <div class="card mb-5 mb-xl-0">
                                    <div class="card-body p-5">
                                        <div class="small text-uppercase fw-bold text-muted">무료 플랜</div>
                                        <div class="mb-3">
                                            <span class="display-4 fw-bold">무료</span>
                                            <span class="text-muted">/ 매월</span>
                                        </div>
                                        <ul class="list-unstyled mb-4">
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                오직 나만을 위한 플래너 인터페이스
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                휴가 일정 추가/삭제
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                장소 일정 추가/삭제
                                            </li>
                                            <li class="mb-2 text-muted">
                                                <i class="bi bi-x"></i>
                                                식단 기록 추가/삭제
                                            </li>
                                            <li class="mb-2 text-muted">
                                                <i class="bi bi-x"></i>
                                                소비 기록 추가/삭제
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                관심 장소 저장/삭제
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                장소 검색
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                <strong>군인 전용 장소 정보 제공(군 복지 휴양 시설, 군 병원, TMO)</strong>
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                국방부 MOU 혜택 정보 제공
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                <strong>회원 전용 홈(예보, 다가오는 일정, 예정된 방문 장소)</strong>
                                            </li>
                                        </ul>
                                        <div class="d-grid"><a class="btn btn-outline-primary" href="#!">플랜 선택하기</a></div>
                                    </div>
                                </div>
                            </div>
                            <!-- Pricing card pro-->
                            <div class="col-lg-6 col-xl-4">
                                <div class="card mb-5 mb-xl-0">
                                    <div class="card-body p-5">
                                        <div class="small text-uppercase fw-bold">
                                            <i class="bi bi-star-fill text-warning"></i>
                                            Premium
                                        </div>
                                        <div class="mb-3">
                                            <span class="display-4 fw-bold">4,900₩</span>
                                            <span class="text-muted">/ 매월</span>
                                        </div>
                                        <ul class="list-unstyled mb-4">
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                오직 나만을 위한 플래너 인터페이스
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                휴가 일정 추가/삭제
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                장소 일정 추가/삭제
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                식단 기록 추가/삭제
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                소비 기록 추가/삭제
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                관심 장소 저장/삭제
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                장소 검색
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                <strong>군인 전용 장소 정보 제공(군 복지 휴양 시설, 군 병원, TMO, 군인 우대 업소 정보)</strong>
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                국방부 MOU 혜택 정보 제공
                                            </li>
                                            <li class="mb-2">
                                                <i class="bi bi-check text-primary"></i>
                                                <strong>회원 전용 홈(예보, 다가오는 일정, 예정된 방문 장소, 주기적 식단 영양소 분석,
                                                    일별 소비 기록 분석)</strong>
                                            </li>
                                        </ul>
                                        <div class="d-grid"><a class="btn btn-primary" href="#!">플랜 선택하기</a></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Call to action-->
                <aside class="bg-primary bg-gradient rounded-3 p-4 p-sm-5 mt-5">
                    <div class="d-flex align-items-center justify-content-between flex-column flex-xl-row text-center text-xl-start">
                        <div class="mb-4 mb-xl-0">
                            <div class="fs-3 fw-bold text-white">공공데이터를 단순히 보여주는 것을 넘어 사용자가 가공, 저장 등 다양한 방식으로 직접 사용할 수 있어야 한다.</div>
                            <div class="text-white-50">공공데이터를 통해 새로운 가치를 만듭니다.</div>
                            <div class="small text-blak-50">상병 최성현</div>
                            <a href="https://www.instagram.com/froggy_hyun/"><img src="img/logo/instagram.png" style="height:30px"></a>
                            <a href="https://github.com/froggy-hyun"><img src="img/logo/github.png" style="height:30px"></a>
                        </div>
                    </div>
                </aside>
            </div>
        </section>
    </main>
    <main sec:authorize="isAuthenticated()" class="flex-shrink-0">
        <div id="weather">
            <p>오늘의 전국 일기 예보</p>
        </div>
    </main>
    <!-- Footer-->
    <footer th:replace="fragments/common :: footer"></footer>
</body>
<script>
     let weatherInfo = [];
     let stnId = "108";
     let tmFc;

     let today = new Date();

     var year = today.getFullYear();
     var month = ('0' + (today.getMonth() + 1)).slice(-2);
     var day = ('0' + today.getDate()).slice(-2);
     var dateString = year + month + day;

     var hours = ('0' + today.getHours()).slice(-2);
     var minutes = ('0' + today.getMinutes()).slice(-2);

     let uploadCert1 = new Date(`${year}-${month}-${day} 06:00:00`);
     let uploadCert2 = new Date(`${year}-${month}-${day} 18:00:00`);

     if(today.getTime() < uploadCert1){
        tmFc = year + month + (day-1) + "1800";
     } else if(uploadCert1 < today.getTime() < uploadCert1) {
        tmFc = year + month + day + "0600";
     } else {
        tmFc = year + month + day + "1800";
     }

     url = `getWeatherApi/${stnId}/${tmFc}`;
     $.ajax({
        type: "GET",
        url: url,
        data: {},
        async: false,
        success: function(data) {
           jsonData = JSON.parse(data); //string -> json
           item = jsonData.response.body.items.item;
           for (let i = 0; i < item.length; i++){
             weatherInfo.push(item[i].wfSv);
             $('#weather').append('<p>' + item[i].wfSv + '</p>');
           }
        }
     });

     if(weatherInfo.length == 0){
       alert("날씨 공공데이터 API에 일시적인 오류가 있습니다. 잠시 후 다시 시도해주세요.");
     }


</script>
</html>